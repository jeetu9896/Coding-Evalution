<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moblie online</title>
    <style>
        #conatiner{
            display: grid;
            grid-template-columns: repeat(3,1fr);
            gap: 20px;
            margin: 150px;
            border: 1px solid royalblue;
            /* justify-content: center; */
        }
        #cartoption{
            display: grid;
            grid-template-columns: auto;
            margin: 50px;
        }

    </style>
</head>
<body>
   <div id="cartoption">
    <button>
        <a href="cart.html">My cart</a>
    </button>
    <br>
    <div>
        <!-- <h4>Sort By Price</h4> -->
        <select name="" id="sortinput">
            <option value="Htl">High to Low</option>
            <option value="LtH">Low to High</option>
        </select>

    </div>
   </div>
    
    <div id="conatiner">
        
    </div>
</body>
<script>
    var data = [
    {
      name: "SAMSUNG Galaxy F12",
      rating: 4,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kn22m4w0/mobile/a/q/8/galaxy-f12-sm-f127gzgiins-samsung-original-imagftmjw3xqg4yk.jpeg?q=70",
      price: 11499,
    },
    {
      name: "SAMSUNG Galaxy F42",
      rating: 4.2,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/ku4ezrk0/mobile/v/5/e/galaxy-f42-5g-sm-e426bzahins-samsung-original-imag7anfwxsgumgz.jpeg?q=70",
      price: 12199,
    },
    {
      name: "Apple Iphone 12",
      rating: 4.6,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kg8avm80/mobile/r/h/z/apple-iphone-12-dummyapplefsn-original-imafwg8dqgncgbcb.jpeg?q=70",
      price: 59999,
    },
    {
      name: "APPLE iPhone 12 Mini",
      rating: 4.5,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kg8avm80/mobile/d/g/b/apple-iphone-12-mini-dummyapplefsn-original-imafwgbfhfevaajh.jpeg?q=70",
      price: 49999,
    },
    {
      name: "OPPO A12",
      rating: 3.8,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kb1470w0/mobile/q/g/g/oppo-a12-cph2083-original-imafsh2hfkyamqyt.jpeg?q=70",
      price: 9490,
    },
    {
      name: "ASUS ROG Phone 3",
      rating: 4.9,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kcuug7k0/mobile/g/h/e/asus-rog-phone-3-zs661ks-6a006in-original-imaftwc6nmyuyekd.jpeg?q=70",
      price: 46999,
    },
    {
      name: "DIZO Star 300",
      rating: 3.4,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kqpj4i80/mobile/e/i/r/star-300-dh2001-dizo-original-imag4nmpv7zahzs2.jpeg?q=70",
      price: 1299,
    },
    {
      name: "Micromax IN Note 1 ",
      rating: 4.4,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/ku5ufm80/mobile/v/t/1/in-note-1-e7746-micromax-original-imag7cdgz6tqychm.jpeg?q=70",
      price: 10999,
    },
    {
      name: "SAMSUNG Galaxy Z Fold3 5G",
      rating: 4,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/ksqeky80/mobile/x/7/1/galaxy-z-fold3-5g-sm-f926bzgdinu-samsung-original-imag68q6hpdwmngw.jpeg?q=70",
      price: 149999,
    },
  ];
    
    var cartdata;
    if(localStorage.getItem('cartdata')==null){
        cartdata=[];
    }
    else{
        cartdata=JSON.parse(localStorage.getItem('cartdata'))
    }


    document.querySelector('#sortinput').addEventListener('change', function(){
        var sorttype=document.querySelector('#sortinput').value;
        data.sort(function(a,b){
            if(sorttype=='LtH')
            {
                return a.price-b.price;
            }
            return b.price-a.price;
        });
        displaydata(data);
    });

    function displaydata(data){
document.querySelector('#conatiner').innerHTML='';
    
  data.forEach(function(mdata){
        var box= document.createElement('div');
       box.setAttribute("style","border:1px solid black")
        var name=document.createElement('h3');
        name.textContent=mdata.name;

        var rating=document.createElement('p');
        rating.textContent=mdata.rating;

        var img=document.createElement('img');
        img.src=mdata.image_url;

        var price=document.createElement('p');
        price.textContent=mdata.price;

        var cartBtn=document.createElement('button');
        cartBtn.innerText='Add to Cart';
        cartBtn.addEventListener('click',function(){
            addtocart(mdata)
            localStorage.setItem('cartdata',JSON.stringify(cartdata))

        });

        box.append(name,rating,img,price,cartBtn);
        document.querySelector('#conatiner').append(box);

        
        

    }) ;  
    
    function addtocart(product){
        cartdata.push(product);
        console.log(cartdata)


    }

    }
    displaydata();

</script>
</html>